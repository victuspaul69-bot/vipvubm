<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login with Discord - VIP VU BM</title>
    
    <!-- Tailwind CSS (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons (CDN) -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Supabase JS Library -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .fill-current { fill: currentColor; }
        
        /* Smooth Fade for Dropdown */
        .fade-in-scale {
            animation: scaleIn 0.15s ease-out forwards;
        }
        @keyframes scaleIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
    </style>
</head>
<body class="min-h-screen text-white bg-[#08020a] selection:bg-[#ff0055]/40 selection:text-white flex flex-col">

    <!-- Topmost Language & Social Bar -->
    <div class="w-full bg-[#050106] border-b border-[#ff0055]/20 flex justify-end items-center px-4 xl:px-8 py-2 gap-5 text-gray-400 text-xs z-50 relative">
        <div class="flex items-center gap-3">
            <a href="https://twitter.com" target="_blank" class="hover:text-[#ff0055] transition-colors drop-shadow-[0_0_2px_rgba(255,0,85,0.5)]"><i data-lucide="twitter" class="w-3.5 h-3.5"></i></a>
            <a href="https://instagram.com" target="_blank" class="hover:text-[#ff0055] transition-colors drop-shadow-[0_0_2px_rgba(255,0,85,0.5)]"><i data-lucide="instagram" class="w-3.5 h-3.5"></i></a>
        </div>
    </div>

    <!-- Top Banner -->
    <div class="w-full bg-gradient-to-r from-[#ff0055] to-[#aa0038] text-white border-b border-[#ff0055]/30 text-center py-2 text-sm font-bold tracking-widest shadow-[0_0_15px_rgba(255,0,85,0.3)] relative z-50">
        Welcome To VIP VU BM Shop Now!
    </div>

    <!-- Navbar -->
    <nav class="w-full bg-[#0d0415]/95 backdrop-blur-md border-b border-[#ff0055]/30 sticky top-0 z-40 shadow-[0_4px_30px_rgba(255,0,85,0.15)]">
        <div class="max-w-7xl mx-auto px-4 xl:px-8 h-20 flex items-center justify-between">
            <!-- Brand -->
            <a href="vip.html" class="flex items-center gap-3 group cursor-pointer">
                <img src="https://placehold.co/40x40/ff0055/ffffff?text=V" alt="VIP VU BM Logo" class="w-10 h-10 rounded-full border border-[#ff0055]/50 shadow-[0_0_15px_rgba(255,0,85,0.4)] group-hover:shadow-[0_0_25px_rgba(255,0,85,0.8)] transition-all object-cover">
                <span class="text-2xl font-black text-transparent bg-clip-text bg-gradient-to-r from-[#ff0055] to-[#ff6699] tracking-tighter drop-shadow-[0_0_8px_rgba(255,0,85,0.6)]">VIP VU BM</span>
            </a>

            <!-- Desktop Links -->
            <div class="hidden md:flex items-center gap-4 text-[13px] font-bold text-gray-300">
                <a href="vip.html" class="hover:text-[#ff0055] hover:drop-shadow-[0_0_8px_rgba(255,0,85,0.8)] transition-all">Home</a>
                
                <!-- Shop Now Dropdown -->
                <div class="relative group py-6">
                    <button class="flex items-center gap-1 hover:text-[#ff0055] hover:drop-shadow-[0_0_8px_rgba(255,0,85,0.8)] transition-all">
                        Shop Now <i data-lucide="chevron-down" class="w-3.5 h-3.5"></i>
                    </button>
                    <!-- Dropdown Menu -->
                    <div class="absolute left-0 top-[100%] -mt-2 w-48 pt-2 hidden group-hover:block z-50">
                        <div class="bg-[#12051a]/95 backdrop-blur-md border border-[#ff0055]/30 rounded-xl shadow-[0_0_20px_rgba(255,0,85,0.3)] flex flex-col py-2 overflow-hidden">
                            <a href="triggers.html" class="px-4 py-2.5 hover:bg-[#ff0055]/20 hover:text-[#ff0055] hover:pl-5 transition-all duration-300 block">Triggers</a>
                            <a href="rooms.html" class="px-4 py-2.5 hover:bg-[#ff0055]/20 hover:text-[#ff0055] hover:pl-5 transition-all duration-300 block">Rooms</a>
                            <a href="long-poses.html" class="px-4 py-2.5 hover:bg-[#ff0055]/20 hover:text-[#ff0055] hover:pl-5 transition-all duration-300 block">Long Poses</a>
                            <a href="furniture.html" class="px-4 py-2.5 hover:bg-[#ff0055]/20 hover:text-[#ff0055] hover:pl-5 transition-all duration-300 block">Furniture pack</a>
                            <a href="credits.html" class="px-4 py-2.5 hover:bg-[#ff0055]/20 hover:text-[#ff0055] hover:pl-5 transition-all duration-300 block">Credits</a>
                            <a href="vcoins.html" class="px-4 py-2.5 hover:bg-[#ff0055]/20 hover:text-[#ff0055] hover:pl-5 transition-all duration-300 block">Vcoins</a>
                            <a href="accessories.html" class="px-4 py-2.5 hover:bg-[#ff0055]/20 hover:text-[#ff0055] hover:pl-5 transition-all duration-300 block">Accessories</a>
                        </div>
                    </div>
                </div>

                <a href="bundles.html" class="hover:text-[#ff0055] hover:drop-shadow-[0_0_8px_rgba(255,0,85,0.8)] transition-all">Bundles</a>
                <a href="track-order.html" class="hover:text-[#ff0055] hover:drop-shadow-[0_0_8px_rgba(255,0,85,0.8)] transition-all">Track Order</a>
                <a href="support.html" class="hover:text-[#ff0055] hover:drop-shadow-[0_0_8px_rgba(255,0,85,0.8)] transition-all">Support</a>
                <a href="about.html" class="hover:text-[#ff0055] hover:drop-shadow-[0_0_8px_rgba(255,0,85,0.8)] transition-all">About Us</a>
                <a href="donate.html" class="hover:text-[#ff0055] hover:drop-shadow-[0_0_8px_rgba(255,0,85,0.8)] transition-all flex items-center gap-1">Donate <span class="text-[#ff0055] drop-shadow-[0_0_5px_rgba(255,0,85,0.8)]">❤️</span></a>
            </div>

            <!-- Utilities -->
            <div class="flex items-center gap-4 text-gray-300">
                <div class="hidden md:flex items-center gap-3">
                    <a href="https://discord.com" target="_blank" title="Join Discord">
                        <svg class="w-5 h-5 cursor-pointer hover:text-[#ff0055] hover:drop-shadow-[0_0_8px_rgba(255,0,85,0.8)] transition-all fill-current" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"/></svg>
                    </a>
                    
                    <a href="https://whatsapp.com" target="_blank" title="Contact on WhatsApp">
                        <svg class="w-5 h-5 cursor-pointer hover:text-[#ff0055] hover:drop-shadow-[0_0_8px_rgba(255,0,85,0.8)] transition-all fill-current" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/></svg>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Global Widgets: Currency Sidebar (Hidden/Empty) -->
    <div id="currency-sidebar" class="fixed left-0 top-1/3 -translate-y-1/2 z-50 bg-[#12051a]/90 backdrop-blur-md border border-[#ff0055]/30 rounded-r-xl shadow-[0_0_20px_rgba(255,0,85,0.2)] flex flex-col p-1 overflow-hidden"></div>

    <!-- MAIN PAGE CONTENT: AUTHENTICATION -->
    <main id="app-main" class="flex-grow">
        <div class="min-h-[80vh] flex items-center justify-center py-20 relative bg-[#0c0312]">
            <div class="absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-[#ff0055]/5 via-[#08020a] to-[#08020a] pointer-events-none"></div>
            
            <div class="w-full max-w-md bg-[#12051a]/90 backdrop-blur-xl p-10 rounded-3xl border border-[#ff0055]/30 shadow-[0_0_40px_rgba(255,0,85,0.15)] relative z-10 text-center">
                <h2 id="form-title" class="text-3xl font-black text-white mb-2 text-center drop-shadow-[0_0_8px_rgba(255,255,255,0.2)]">Connect Account</h2>
                <p id="form-subtitle" class="text-gray-400 text-center mb-8 text-sm">Login with Discord to access premium triggers & rooms.</p>
                
                <button onclick="handleDiscordLogin()" class="w-full py-4 rounded-xl bg-[#5865F2] hover:bg-[#4752C4] text-white font-bold flex items-center justify-center gap-3 transition-all shadow-[0_0_25px_rgba(88,101,242,0.4)] text-lg hover:-translate-y-1 cursor-pointer">
                    <svg class="w-6 h-6 fill-current" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"/></svg>
                    Login with Discord
                </button>

                <div id="error-message" class="text-red-500 text-center text-sm mt-4 hidden"></div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-[#08020a] pt-20 pb-10 border-t border-[#ff0055]/30 relative overflow-hidden mt-auto">
        <div class="absolute top-0 left-1/2 -translate-x-1/2 w-full max-w-2xl h-[1px] bg-gradient-to-r from-transparent via-[#ff0055] to-transparent shadow-[0_0_15px_rgba(255,0,85,1)]"></div>
        <div class="max-w-7xl mx-auto px-4 xl:px-8 relative z-10">
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 lg:gap-32 mb-16">
                <!-- Column 1: VIP VU BM -->
                <div>
                    <a href="vip.html" class="flex items-center gap-3 mb-6 group cursor-pointer w-fit">
                        <img src="https://placehold.co/40x40/ff0055/ffffff?text=V" alt="VIP VU BM Logo" class="w-10 h-10 rounded-full border border-[#ff0055]/50 shadow-[0_0_10px_rgba(255,0,85,0.4)] group-hover:shadow-[0_0_20px_rgba(255,0,85,0.8)] transition-all object-cover">
                        <span class="text-xl font-black text-transparent bg-clip-text bg-gradient-to-r from-[#ff0055] to-[#ff6699] tracking-tighter drop-shadow-[0_0_5px_rgba(255,0,85,0.5)]">VIP VU BM</span>
                    </a>
                    <p class="text-gray-400 leading-relaxed mb-6 text-sm font-medium">
                        Your trusted source for premium IMVU black market triggers and rooms since 2020. Transform your virtual experience with our curated collection of BM triggers and exclusive rooms.
                    </p>
                    <div class="flex gap-4">
                        <a href="https://discord.com" target="_blank" class="w-10 h-10 rounded-full bg-[#12051a] border border-[#ff0055]/30 flex items-center justify-center cursor-pointer hover:bg-[#ff0055] hover:text-white hover:shadow-[0_0_15px_rgba(255,0,85,0.6)] text-gray-300 transition-all">
                            <i data-lucide="message-circle" class="w-5 h-5"></i>
                        </a>
                        <div class="w-10 h-10 rounded-full bg-[#12051a] border border-[#ff0055]/30 flex items-center justify-center cursor-pointer hover:bg-[#ff0055] hover:text-white hover:shadow-[0_0_15px_rgba(255,0,85,0.6)] text-gray-300 transition-all">
                            <i data-lucide="play" class="w-5 h-5"></i>
                        </div>
                    </div>
                </div>

                <!-- Column 2: Need Help? -->
                <div class="flex flex-col items-start md:items-end text-left md:text-right">
                    <h4 class="font-black text-white text-lg mb-6 tracking-wide drop-shadow-[0_0_5px_rgba(255,255,255,0.2)]">Need Help?</h4>
                    <p class="text-gray-400 text-sm mb-4 font-medium max-w-xs">
                        Have questions or need assistance with your order? Our support team is here to help you 24/7.
                    </p>
                    <a href="support.html#email-support" class="w-full md:w-auto px-8 py-3 rounded-xl bg-[#ff0055] hover:bg-[#d40047] text-white font-bold shadow-[0_0_15px_rgba(255,0,85,0.4)] hover:shadow-[0_0_20px_rgba(255,0,85,0.6)] hover:-translate-y-0.5 transition-all uppercase tracking-wide border border-white/10 flex items-center justify-center gap-2">
                        <i data-lucide="life-buoy" class="w-5 h-5"></i> Contact Support
                    </a>
                </div>
            </div>

            <div class="flex flex-col items-center gap-4 text-center text-sm text-gray-500 font-medium pt-8 border-t border-[#ff0055]/20">
                 <p class="max-w-4xl text-xs text-gray-600">This site is not part of the IMVU™ website or IMVU™. Additionally, this site is NOT endorsed by IMVU™ in any way. IMVU™ is a trademark of IMVU™.</p>
                 <div class="flex items-center justify-center gap-6 text-gray-400 font-bold">
                    <a href="support.html#privacy-policy" class="hover:text-[#ff0055] transition-colors">Privacy Policy</a>
                    <a href="support.html#terms-of-service" class="hover:text-[#ff0055] transition-colors">Terms of Service</a>
                    <a href="support.html#return-policy" class="hover:text-[#ff0055] transition-colors">Return Policy</a>
                 </div>
                 <div class="text-gray-600 font-bold mt-2">© 2026 VIP VU BM. All rights reserved.</div>
            </div>
        </div>
    </footer>

    <!-- Tawk.to Script -->
    <script type="text/javascript">
    var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
    (function(){
    var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
    s1.async=true;
    s1.src='https://embed.tawk.to/6990740b0bc2711c37d66875/1jhe4akst';
    s1.charset='UTF-8';
    s1.setAttribute('crossorigin','*');
    s0.parentNode.insertBefore(s1,s0);
    })();
    </script>

    <!-- Supabase Logic -->
    <script>
        // --- 1. Supabase Initialization ---
        const supabaseUrl = 'https://hvvhfrfpuxksgisitxbr.supabase.co';
        const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh2dmhmcmZwdXhrc2dpc2l0eGJyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA5NTkyMTQsImV4cCI6MjA4NjUzNTIxNH0.nzDWevBDC9qJovr5cGC68SwpMLJT-dwlF7wMXXO-dBU';
        
        const supabaseClient = window.supabase.createClient(supabaseUrl, supabaseKey);

        const errorMessage = document.getElementById('error-message');
        const authContainer = document.getElementById('auth-container');
        const userProfileBtn = document.getElementById('user-profile-btn');

        // --- 2. Check Auth State on Page Load ---
        async function checkAuthState() {
            const { data: { session } } = await supabaseClient.auth.getSession();
            updateNavbarState(session);
            
            // Listen for changes (e.g. sign in on another tab)
            supabaseClient.auth.onAuthStateChange((event, session) => {
                updateNavbarState(session);
            });
        }

        // --- 3. Update Navbar UI based on Session ---
        function updateNavbarState(session) {
            if (session) {
                // User is logged in, hide connect button, maybe show profile
                const user = session.user;
                const avatarUrl = user.user_metadata.avatar_url;
                const userName = user.user_metadata.full_name || 'User';

                // Change the main connect button to a success message or redirect
                const formTitle = document.getElementById('form-title');
                const formSubtitle = document.getElementById('form-subtitle');
                if(formTitle) formTitle.innerText = "Account Connected";
                if(formSubtitle) formSubtitle.innerText = `Welcome back, ${userName}!`;
            }
            lucide.createIcons();
        }

        // --- 4. Handle Discord Login ---
        window.handleDiscordLogin = async function() {
            try {
                const { data, error } = await supabaseClient.auth.signInWithOAuth({
                    provider: 'discord',
                    options: {
                        // Redirect to home page after successful login
                        redirectTo: window.location.origin + '/vip.html'
                    }
                });
                if (error) throw error;
            } catch (error) {
                console.error("Discord Login Error:", error);
                errorMessage.textContent = error.message;
                errorMessage.classList.remove('hidden');
            }
        };

        // --- 5. Initialize ---
        window.onload = () => {
            lucide.createIcons();
            checkAuthState(); 
        };

    </script>
</body>
</html>